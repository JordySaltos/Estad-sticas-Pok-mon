---
title: "Estadísticas Pokémon"
---

```{r}
#| label: setup
#| include: false
library(tidyverse)
library(DT)
library(readxl)
library(openxlsx)
library(knitr)
library(RColorBrewer)
library(highcharter)
```

```{r}
#| label: Extraccion_datos
#| include: false

# Seleccionamos la variables de Interes
DatosPokemon <- pokemon %>% select(-c(species_id,type_1_color,type_2_color,type_mix_color,color,detail_url,image_alt_urls,image_url,egg_group_1,egg_group_2))%>% 
  relocate("icon_url", .after = "pokemon")

# Colocamos el url completo
DatosPokemon$icon_url <- paste0("https:", DatosPokemon$icon_url)

# Cambiamos el nombre de las variables
colnames(DatosPokemon) <- c("ID","Pokémon","Imágen","Altura","Peso","Experiencia_Base","Tipo_1","Tipo_2","Ataque","Defensa","PS","Ataque_especial","Defensa_Especial","Velocidad")

# Definimos una función JavaScript para renderizar las imágenes
renderizar_imagen <- JS(
  "function(data, type, row, meta) {",
  "  if(type === 'display') {",
  "    return '<img src=\"' + data + '\" height=\"100px\"/>';",
  "  } else {",
  "    return data;",
  "  }",
  "}"
)
DatosPokemon2 <-DatosPokemon[152:251,]

```


# Todos los Pokémon

## Tabla 

```{r,fig.align="center", out.height="120%"}
#| label: tabla_pokemon
#| echo: false

# Renderizar el DataTable con la columna de imágenes
datatable(
 DatosPokemon2,
  options = list(
    columnDefs = list(
      list(
        targets = 3, # Índice de la columna de las imágenes (en este caso, la segunda columna)
        render = renderizar_imagen
      )
    )
  )
)
```